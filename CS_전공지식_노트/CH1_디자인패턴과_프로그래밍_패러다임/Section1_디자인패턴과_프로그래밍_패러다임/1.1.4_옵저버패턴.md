## 1.1.4 μµμ €λ²„ ν¨ν„΄

- μ£Όμ²΄κ°€ μ–΄λ–¤ κ°μ²΄μ μƒνƒ λ³€ν™”λ¥Ό κ΄€μ°°ν•λ‹¤κ°€ μƒνƒ λ³€ν™”κ°€ μμ„ λ•λ§λ‹¤ λ©”μ„λ“λ¥Ό ν†µν•΄ μµμ €λ²„ λ©λ΅μ— μλ” μµμ €λ²„λ“¤μ—κ² λ³€ν™”λ¥Ό μ•λ ¤μ£Όλ” λ””μμΈ ν¨ν„΄
- μ£Όμ²΄λ€ κ°μ²΄μ μƒνƒ λ³€ν™”λ¥Ό λ³΄κ³  μλ” κ΄€μ°°μ
- μµμ €λ²„λ“¤μ΄λ€ μ΄ κ°μ²΄μ μƒνƒ λ³€ν™”μ— λ”°λΌ μ „λ‹¬λλ” λ©”μ„λ“ λ“±μ„ κΈ°λ°μΌλ΅ β€μ¶”κ°€ λ³€ν™” μ‚¬ν•­β€™μ΄ μƒκΈ°λ” κ°μ²΄μλ―Έ

---

### π μµμ €λ²„ ν¨ν„΄μ΄ μ“°μ΄λ” κ³³

- νΈμ„ν„° : μ–΄λ–¤ μ‚¬λμΈ μ£Όμ²΄λ¥Ό β€ν”λ΅μ°β€™ν•λ©΄ μ£Όμ²΄κ°€ ν¬μ¤ν…μ„ μ¬λ¦¬λ©΄ μ•λ¦Όμ΄ β€ν”λ΅μ°β€™μ—κ² κ°„λ‹¤.
- MVC ν¨ν„΄ : μ΄λ²¤νΈ κΈ°λ° μ‹μ¤ν…μ— μ‚¬μ©ν•λ©°, MVC ν¨ν„΄μ—λ„ μ‚¬μ©
  - μλ¥Ό λ“¤μ–΄ μ£Όμ²΄μΈ modelμ—μ„ λ³€κ²½μ‚¬ν•­μ΄ μƒκ²¨ update() λ©”μ„λ“λ΅ μµμ €λ²„μΈ λ·°μ— μ•λ ¤μ£Όκ³  μ΄λ¥Ό κΈ°λ°μΌλ΅ controllerλ“±μ΄ μ‘λ™ν•λ‹¤.

---

### μµμ €λ²„ ν¨ν„΄ ν™μ© μλ°” μμ  μ½”λ“

```java
import java.util.ArrayList;
import java.util.List;

// 1. μµμ €λ²„(Observer) μΈν„°νμ΄μ¤ μ •μ
interface Observer {
    void update(String news);  // λ‰΄μ¤ μ—…λ°μ΄νΈλ¥Ό λ°›λ” λ©”μ„λ“
}

// 2. μ£Όμ (Subject) μΈν„°νμ΄μ¤ μ •μ
interface Subject {
    void addObserver(Observer observer);
    void removeObserver(Observer observer);
    void notifyObservers(String news);
}

// 3. λ‰΄μ¤ μ±„λ„ (λ°ν–‰μ - Subject μ—­ν• )
class NewsChannel implements Subject {
    private List<Observer> observers = new ArrayList<>();

    @Override
    public void addObserver(Observer observer) {
        observers.add(observer);
    }

    @Override
    public void removeObserver(Observer observer) {
        observers.remove(observer);
    }

    @Override
    public void notifyObservers(String news) {
        for (Observer observer : observers) {
            observer.update(news);
        }
    }

    public void publishNews(String news) {
        System.out.println("π“Ά λ‰΄μ¤ μ†λ³΄: " + news);
        notifyObservers(news);
    }
}

// 4. κµ¬λ…μ(Observer μ—­ν• )
class Subscriber implements Observer {
    private String name;

    public Subscriber(String name) {
        this.name = name;
    }

    @Override
    public void update(String news) {
        System.out.println("π“¨ " + name + "λ‹μ΄ μƒλ΅μ΄ λ‰΄μ¤λ¥Ό λ°›μ•μµλ‹λ‹¤: " + news);
    }
}

// 5. μ‹¤ν–‰ ν…μ¤νΈ
public class ObserverPatternExample {
    public static void main(String[] args) {
        NewsChannel channel = new NewsChannel();

        // κµ¬λ…μ μ¶”κ°€
        Subscriber user1 = new Subscriber("Alice");
        Subscriber user2 = new Subscriber("Bob");

        channel.addObserver(user1);
        channel.addObserver(user2);

        // λ‰΄μ¤ λ°ν–‰
        channel.publishNews("μλ°” 22 μ¶μ‹ μμ •!");

        // νΉμ • κµ¬λ…μ ν•΄μ§€
        channel.removeObserver(user1);

        // λ λ‹¤λ¥Έ λ‰΄μ¤ λ°ν–‰
        channel.publishNews("Spring Boot 3.2 μ •μ‹ λ¦΄λ¦¬μ¦!");
    }
}

// μ‹¤ν–‰ κ²°κ³Ό
π“Ά λ‰΄μ¤ μ†λ³΄: μλ°” 22 μ¶μ‹ μμ •!
π“¨ Aliceλ‹μ΄ μƒλ΅μ΄ λ‰΄μ¤λ¥Ό λ°›μ•μµλ‹λ‹¤: μλ°” 22 μ¶μ‹ μμ •!
π“¨ Bobλ‹μ΄ μƒλ΅μ΄ λ‰΄μ¤λ¥Ό λ°›μ•μµλ‹λ‹¤: μλ°” 22 μ¶μ‹ μμ •!

π“Ά λ‰΄μ¤ μ†λ³΄: Spring Boot 3.2 μ •μ‹ λ¦΄λ¦¬μ¦!
π“¨ Bobλ‹μ΄ μƒλ΅μ΄ λ‰΄μ¤λ¥Ό λ°›μ•μµλ‹λ‹¤: Spring Boot 3.2 μ •μ‹ λ¦΄λ¦¬μ¦!

```

- **`Observer` μΈν„°νμ΄μ¤**: `update(String news)` λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Ό ν•¨.
- **`Subject` μΈν„°νμ΄μ¤**: μµμ €λ²„λ¥Ό λ“±λ΅, μ κ±°, μ•λ¦Όμ„ κ΄€λ¦¬.
- **`NewsChannel`(μ£Όμ /λ°ν–‰μ)**: λ‰΄μ¤κ°€ κ²μ‹λλ©΄ λ¨λ“  μµμ €λ²„μ—κ² μ•λ¦Ό.
- **`Subscriber`(κµ¬λ…μ/μµμ €λ²„)**: `update()`λ¥Ό κµ¬ν„ν•μ—¬ λ‰΄μ¤ μ—…λ°μ΄νΈλ¥Ό λ°›μ.
- **`main()` μ‹¤ν–‰**:
  - `Subscriber`λ¥Ό `NewsChannel`μ— μ¶”κ°€(κµ¬λ…).
  - `NewsChannel`μ΄ `publishNews()`λ¥Ό νΈμ¶ν•λ©΄ λ¨λ“  κµ¬λ…μκ°€ μ•λ¦Όμ„ λ°›μ.
  - `Alice`κ°€ κµ¬λ… μ·¨μ† ν›„, μƒλ΅μ΄ λ‰΄μ¤κ°€ λ°ν–‰λλ©΄ `Bob`λ§ μ•λ¦Όμ„ λ°›μ.

---

### μλ°” : μƒμ†κ³Ό κµ¬ν„

- μƒμ† (extends): μμ‹ ν΄λμ¤κ°€ λ¶€λ¨ ν΄λμ¤μ λ©”μ„λ“ λ“±μ„ μƒμ†λ°›μ•„ μ‚¬μ©. μμ‹ ν΄λμ¤μ—μ„ μ¶”κ°€ λ° ν™•μ¥ν•  μ μλ” κ²ƒμ„ λ§ν•λ‹¤. μ΄λ΅ μΈν•΄ μ¬μ‚¬μ©μ„±, μ¤‘λ³µμ„±μ μµμ†ν™”κ°€ μ΄λ£¨μ–΄μ§
- κµ¬ν„ (implements): λ¶€λ¨ μΈν„°νμ΄μ¤λ¥Ό μμ‹ ν΄λμ¤μ—μ„ μ¬ μ •μν•μ—¬ κµ¬ν„ν•λ” κ²ƒμ„ λ§ν•¨. μƒμ†κ³Ό λ‹¬λ¦¬ λ°λ“μ‹ λ¶€λ¨ ν΄λμ¤μ λ©”μ„λ“λ¥Ό μ¬μ •μν•μ—¬ κµ¬ν„ν•΄μ•Ό ν•λ‹¤.
- μƒμ†κ³Ό κµ¬ν„ μ°¨μ΄ : μƒμ†μ€ μΌλ° ν΄λμ¤, abstract ν΄λμ¤λ¥Ό κΈ°λ°μΌλ΅ κµ¬ν„ν•λ, κµ¬ν„μ€ μΈν„°νμ΄μ¤λ¥Ό κΈ°λ°μΌλ΅ κµ¬ν„.

---

### μλ°”μ¤ν¬λ¦½νΈμ—μ„μ μµμ €λ²„ ν¨ν„΄

ν”„λ΅μ‹ κ°μ²΄λ¥Ό ν†µν•΄ κµ¬ν„

### ν”„λ΅μ‹ κ°μ²΄

μ–΄λ– ν• λ€μƒμ κΈ°λ³Έμ μΈ λ™μ‘(μ†μ„± μ ‘κ·Ό, ν• λ‹Ή, μν, μ—΄κ±°, ν•¨μ νΈμ¶ λ“±)μ μ‘μ—…μ„ κ°€λ΅μ± μ μλ” κ°μ²΄λ¥Ό λ»ν•¨. μλ°”μ¤ν¬λ¦½νΈμ—μ„ ν”„λ΅μ‹ κ°μ²΄λ” λ‘ κ°μ λ§¤κ°λ³€μλ¥Ό κ°€μ§„λ‹¤.

- target: ν”„λ΅μ‹ν•  λ€μƒ
- handler : target λ™μ‘μ„ κ°€λ΅μ±„κ³  μ–΄λ– ν• λ™μ‘μ„ ν•  κ²ƒμΈμ§€κ°€ μ„¤μ •λμ–΄ μλ” ν•¨μ

---

### μµμ €λ²„ ν¨ν„΄ ν™μ© μλ°”μ¤ν¬λ¦½νΈ μμ  μ½”λ“

```jsx
// 1. Subject (λ‰΄μ¤ λ°ν–‰μ)
class NewsPublisher {
    constructor() {
        this.subscribers = []; // κµ¬λ…μ λ¦¬μ¤νΈ
    }

    // κµ¬λ…μ μ¶”κ°€
    subscribe(observer) {
        this.subscribers.push(observer);
    }

    // κµ¬λ…μ μ κ±°
    unsubscribe(observer) {
        this.subscribers = this.subscribers.filter(sub => sub !== observer);
    }

    // λ¨λ“  κµ¬λ…μμ—κ² μ•λ¦Ό
    notify(news) {
        console.log(`π“Ά λ‰΄μ¤ μ†λ³΄: ${news}`);
        this.subscribers.forEach(sub => sub.update(news));
    }
}

// 2. Observer (κµ¬λ…μ)
class Subscriber {
    constructor(name) {
        this.name = name;
    }

    // λ‰΄μ¤ μ—…λ°μ΄νΈ μμ‹ 
    update(news) {
        console.log(`π“¨ ${this.name}λ‹μ΄ μƒλ΅μ΄ λ‰΄μ¤λ¥Ό λ°›μ•μµλ‹λ‹¤: ${news}`);
    }
}

// 3. μ‚¬μ© μμ‹
const newsPublisher = new NewsPublisher();

const alice = new Subscriber("Alice");
const bob = new Subscriber("Bob");

// κµ¬λ…μ λ“±λ΅
newsPublisher.subscribe(alice);
newsPublisher.subscribe(bob);

// λ‰΄μ¤ λ°ν–‰
newsPublisher.notify("μλ°”μ¤ν¬λ¦½νΈ ES2025 λ°ν‘!");

// νΉμ • κµ¬λ…μ ν•΄μ§€
newsPublisher.unsubscribe(alice);

// λ λ‹¤λ¥Έ λ‰΄μ¤ λ°ν–‰
newsPublisher.notify("React 19 μ •μ‹ μ¶μ‹!");

// <-- μ‹¤ν–‰ κ²°κ³Ό -->
π“Ά λ‰΄μ¤ μ†λ³΄: μλ°”μ¤ν¬λ¦½νΈ ES2025 λ°ν‘!
π“¨ Aliceλ‹μ΄ μƒλ΅μ΄ λ‰΄μ¤λ¥Ό λ°›μ•μµλ‹λ‹¤: μλ°”μ¤ν¬λ¦½νΈ ES2025 λ°ν‘!
π“¨ Bobλ‹μ΄ μƒλ΅μ΄ λ‰΄μ¤λ¥Ό λ°›μ•μµλ‹λ‹¤: μλ°”μ¤ν¬λ¦½νΈ ES2025 λ°ν‘!

π“Ά λ‰΄μ¤ μ†λ³΄: React 19 μ •μ‹ μ¶μ‹!
π“¨ Bobλ‹μ΄ μƒλ΅μ΄ λ‰΄μ¤λ¥Ό λ°›μ•μµλ‹λ‹¤: React 19 μ •μ‹ μ¶μ‹!
```

### β… μ½”λ“ μ„¤λ…

1. **`NewsPublisher` (λ°ν–‰μ)**
   - `subscribe(observer)`: κµ¬λ…μ μ¶”κ°€.
   - `unsubscribe(observer)`: νΉμ • κµ¬λ…μ μ κ±°.
   - `notify(news)`: λ¨λ“  κµ¬λ…μμ—κ² λ‰΄μ¤ μ•λ¦Ό.
2. **`Subscriber` (κµ¬λ…μ)**
   - `update(news)`: μƒ λ‰΄μ¤λ¥Ό λ°›μΌλ©΄ μ½μ†”μ— μ¶λ ¥.
3. **μ‹¤ν–‰ νλ¦„**
   - `alice`, `bob`μ΄ λ‰΄μ¤ μ±„λ„μ„ κµ¬λ….
   - λ‰΄μ¤κ°€ λ°ν–‰λλ©΄ λ¨λ“  κµ¬λ…μκ°€ μ—…λ°μ΄νΈλ¥Ό λ°›μ.
   - `alice`κ°€ κµ¬λ… ν•΄μ§€ν•λ©΄ μ΄ν›„ λ‰΄μ¤λ” `bob`λ§ λ°›μ.
