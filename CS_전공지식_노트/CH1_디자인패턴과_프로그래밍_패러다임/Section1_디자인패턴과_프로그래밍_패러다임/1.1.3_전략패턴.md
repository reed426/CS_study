## 1.1.3 μ „λµν¨ν„΄

μ „λµ ν¨ν„΄μ€ μ •μ±… ν¨ν„΄(policy pattern)μ΄λΌκ³ λ„ ν•λ©°, κ°μ²΄μ ν–‰μ„λ¥Ό λ°”κΎΈκ³  μ‹¶μ€ κ²½μ° β€μ§μ ‘β€™ μμ •ν•μ§€ μ•κ³  μ „λµμ΄λΌκ³  λ¶€λ¥΄λ” β€μΊ΅μν™”ν• μ•κ³ λ¦¬μ¦β€™μ„ μ»¨ν…μ¤νΈ μ•μ—μ„ λ°”κΏ”μ£Όλ©΄μ„ μƒνΈ κµμ²΄κ°€ κ°€λ¥ν•κ² λ§λ“λ” ν¨ν„΄

μ) μ°λ¦¬κ°€ μ–΄λ–¤ κ²ƒμ„ μ‚΄ λ• λ„¤μ΄λ²„νμ΄, μΉ΄μΉ΄μ¤νμ΄ λ“± λ‹¤μ–‘ν• λ°©λ²•μΌλ΅ κ²°μ ν•λ“―μ΄ μ–΄λ–¤ μ•„μ΄ν…μ„ μ‚΄ λ• κ²°μ  λ°©μ‹μ β€μ „λµβ€™λ§ λ°”κΏ”μ„ κ²°μ ν•λ‹¤.

μ»¨ν…μ¤νΈ

ν”„λ΅κ·Έλλ°μ—μ„ μ»¨ν…μ¤νΈλ” μƒν™©, λ§¥λ½, λ¬Έλ§¥μ„ μλ―Έν•λ©° κ°λ°μκ°€ μ–΄λ– ν• μ‘μ—…μ„ μ™„λ£ν•λ” λ° ν•„μ”ν• λ¨λ“  κ΄€λ ¨ μ •λ³΄λ¥Ό λ§ν•λ‹¤.

### passport μ „λµ ν¨ν„΄

- μ „λµ ν¨ν„΄μ„ ν™μ©ν• λΌμ΄λΈλ¬λ¦¬
- Node.jsμ—μ„ μΈμ¦ λ¨λ“μ„ κµ¬ν„ν•  λ• μ“°λ” λ―Έλ“¤μ›¨μ–΄ λΌμ΄λΈλ¬λ¦¬λ΅, μ—¬λ¬ κ°€μ§€ β€μ „λµβ€™μ„ κΈ°λ°μΌλ΅ μΈμ¦ν•  μ μκ² ν•λ‹¤.
- μ„λΉ„μ¤ λ‚΄μ νμ›κ°€μ…λ μ•„μ΄λ””μ™€ λΉ„λ°€λ²νΈλ¥Ό κΈ°λ°μΌλ΅ μΈμ¦ν•λ” LocalStrategy μ „λµκ³Ό νμ΄μ¤λ¶, λ„¤μ΄λ²„ λ“± λ‹¤λ¥Έ μ„λΉ„μ¤λ¥Ό κΈ°λ°μΌλ΅ μΈμ¦ν•λ” OAuth μ „λµ λ“±μ„ μ§€μ›.

---

## **μ „λµ ν¨ν„΄ κµ¬ν„ (μλ°” μμ )**

### **1. μ „λµ μΈν„°νμ΄μ¤ μ •μ**

λ¨Όμ €, μ „λµ(Strategy) μ—­ν• μ„ μν–‰ν•  μΈν„°νμ΄μ¤λ¥Ό μ •μν•©λ‹λ‹¤.

```java
// μ „λµ μΈν„°νμ΄μ¤
public interface PaymentStrategy {
    void pay(int amount);
}

```

---

### **2. λ‹¤μ–‘ν• μ „λµ(μ•κ³ λ¦¬μ¦) κµ¬ν„**

κ° μ „λµμ„ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•μ—¬ μ •μν•©λ‹λ‹¤.

```java
// μ‹ μ©μΉ΄λ“ κ²°μ  μ „λµ
public class CreditCardPayment implements PaymentStrategy {
    private String cardNumber;

    public CreditCardPayment(String cardNumber) {
        this.cardNumber = cardNumber;
    }

    @Override
    public void pay(int amount) {
        System.out.println(amount + "μ›μ„ μ‹ μ©μΉ΄λ“(" + cardNumber + ")λ΅ κ²°μ ν–μµλ‹λ‹¤.");
    }
}

// PayPal κ²°μ  μ „λµ
public class PayPalPayment implements PaymentStrategy {
    private String email;

    public PayPalPayment(String email) {
        this.email = email;
    }

    @Override
    public void pay(int amount) {
        System.out.println(amount + "μ›μ„ PayPal(" + email + ")λ΅ κ²°μ ν–μµλ‹λ‹¤.");
    }
}

```

---

### **3. μ»¨ν…μ¤νΈ(Context) ν΄λμ¤ κµ¬ν„**

ν΄λΌμ΄μ–ΈνΈκ°€ μ‚¬μ©ν•  μ»¨ν…μ¤νΈ ν΄λμ¤λ¥Ό κµ¬ν„ν•©λ‹λ‹¤. μ΄ ν΄λμ¤λ” μ „λµ κ°μ²΄λ¥Ό λ°›μ•„μ„ κ²°μ  λ°©μ‹μ„ μ‹¤ν–‰ν•©λ‹λ‹¤.

```java
// κ²°μ  μ»¨ν…μ¤νΈ (μ‚¬μ©ν•  μ „λµμ„ λ™μ μΌλ΅ λ³€κ²½ κ°€λ¥)
public class PaymentContext {
    private PaymentStrategy paymentStrategy;

    // μ „λµμ„ λ™μ μΌλ΅ λ³€κ²½ κ°€λ¥
    public void setPaymentStrategy(PaymentStrategy paymentStrategy) {
        this.paymentStrategy = paymentStrategy;
    }

    public void executePayment(int amount) {
        if (paymentStrategy == null) {
            throw new IllegalStateException("κ²°μ  μ „λµμ΄ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤.");
        }
        paymentStrategy.pay(amount);
    }
}

```

---

### **4. μ‹¤ν–‰ ν…μ¤νΈ μ½”λ“**

μ΄μ  μ‹¤μ λ΅ μ „λµ ν¨ν„΄μ„ ν™μ©ν•μ—¬ λ™μ μΌλ΅ κ²°μ  λ°©μ‹μ„ λ³€κ²½ν•λ” μ½”λ“λ¥Ό μ‘μ„±ν•©λ‹λ‹¤.

```java
public class StrategyPatternExample {
    public static void main(String[] args) {
        PaymentContext context = new PaymentContext();

        // μ‹ μ©μΉ΄λ“ κ²°μ  μ‚¬μ©
        context.setPaymentStrategy(new CreditCardPayment("1234-5678-9012-3456"));
        context.executePayment(50000);

        // PayPal κ²°μ  λ°©μ‹μΌλ΅ λ³€κ²½
        context.setPaymentStrategy(new PayPalPayment("user@example.com"));
        context.executePayment(30000);
    }
}

```

---

### **μ‹¤ν–‰ κ²°κ³Ό**

```
less
λ³µμ‚¬νΈμ§‘
50000μ›μ„ μ‹ μ©μΉ΄λ“(1234-5678-9012-3456)λ΅ κ²°μ ν–μµλ‹λ‹¤.
30000μ›μ„ PayPal(user@example.com)λ΅ κ²°μ ν–μµλ‹λ‹¤.

```

---

## **μ „λµ ν¨ν„΄μ μ¥μ **

β… **μ μ—°μ„± μ¦κ°€**: λ°νƒ€μ„μ— μ „λµμ„ μ‰½κ² λ³€κ²½ κ°€λ¥

β… **μ½”λ“ μ¤‘λ³µ κ°μ†**: μ „λµμ„ μΊ΅μν™”ν•μ—¬ μ¤‘λ³µ μ κ±°

β… **OCP(κ°λ°©-νμ‡„ μ›μΉ™) μ¤€μ**: μƒλ΅μ΄ μ „λµμ„ μ¶”κ°€ν•΄λ„ κΈ°μ΅΄ μ½”λ“λ¥Ό λ³€κ²½ν•  ν•„μ” μ—†μ

## **μ „λµ ν¨ν„΄μ λ‹¨μ **

β **ν΄λμ¤ μ¦κ°€**: μ „λµμ„ λ¶„λ¦¬ν•κΈ° λ•λ¬Έμ— ν΄λμ¤ μκ°€ μ¦κ°€

β **ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ λ³µμ΅μ„± μ¦κ°€**: μ „λµμ„ μ„¤μ •ν•΄μ•Ό ν•λ” κ³Όμ •μ΄ ν•„μ”

---

## **μ •λ¦¬**

μ „λµ ν¨ν„΄μ€ ν–‰μ„λ¥Ό λ¶„λ¦¬ν•μ—¬ μ μ—°ν•κ² ν™•μ¥ν•  μ μλ” κ°•λ ¥ν• λ””μμΈ ν¨ν„΄μ…λ‹λ‹¤. κ²°μ  λ°©μ‹, μ •λ ¬ μ•κ³ λ¦¬μ¦, μ••μ¶• λ°©μ‹ λ“± λ‹¤μ–‘ν• κ³³μ—μ„ ν™μ©λ©λ‹λ‹¤.

μλ°”μ—μ„λ” μΈν„°νμ΄μ¤μ™€ λ‹¤ν•μ„±μ„ ν™μ©ν•μ—¬ μ‰½κ² κµ¬ν„ν•  μ μμµλ‹λ‹¤. π€
